# TSLA, TQQQ, PLTR 시계열 분석 프로젝트

이 프로젝트는 ARIMA 및 GARCH 모델을 활용하여 TSLA, TQQQ, PLTR의 향후 2개월 주가 수익률을 예측한 것이다.
본인이 2024년 7월~ 2025년 6월 말 현재까지 투자했던 종목들이다. 미국 주식의 대표 우량주인 세 종목에 대하여, 이번 학기에 배운 '시계열분석' 내용의 이해에 기반해 프로젝트를 진행하였다. 시계열분석 과목에서는 프로그래밍 'R'을 통하여 분석을 진행한다. 
이번 프로젝트를 통해, R이 아닌 이번 학기에 배운 python을 활용해 시계열에서 배운 이론을 기반으로 본인의 투자에 도움이 되는 방향으로 모델링과 수익률 계산을 연습하고 활용해보는 경험을 얻고자 하였다. 
데이터 사이언티스트, 퀀트를 지망하는 나에게 있어 금융 시장의 시계열을 파이썬으로 분석하는 것은 의미가 있고, 배운 지식을 바탕으로 분석을 진행하였다.

각 종목은 time series(시계열)-시간의 흐름에 따라 진행되는 그래프의 양상을 띄고 있다. 이에 따라 수업시간에 배운 이론적 내용과 R-프로그래밍 실습 경험을 바탕으로, 파이썬으로 활용하여 분석을 진행하였다.



## 분석 

- 세 종류의 주식 종목에 대한 2020-01-01~2024-12-31 구간의 데이터를 수집하였다. 이를 불러와 분석을 진행하기 위한 코드를 첨부하였다.
  
- 결측치를 제거하고 로그화를 위한 코드를 첨부하였다. 시계열 데이터에 대해 로그화를 하는 이유는, 시계열을 분석 시 분산의 안정화를 위해서이다. 분산의 안정화를 하는 이유는 모든 시계열은 분석 시 정상(standard)를 가정하고 진행하기 때문에,
  이를 위해 등분산을 만들어 주기 위해 멱변환의 일종으로 진행하는 것이다. 해당 주식들의 경우 변동성이 큰 금융 데이터이기 때문에, 분산의 안정화 중 변화 축소 폭이 큰 로그 변환을 활용하였다. 로그변환 외에도 역수 변환 등이 있지만, 로그 변환을 가장 효과적으로 판단하였다.
  
- ARCH-이분산성을 띄는 시계열을 분석하기 위한 장치를 install하였다. 항공기 여객 수와 같은 등분산 데이터와 다르게, 금융 시장의 그래프는 이분산성을 띈다. 따라서 이분산성 모델링인 ARCH, GARCH 모델링 등을 위해 installation을 진행하였다.
  
- 먼저, 정상성을 검정하는 방식은 크게 두 가지로 배웠다. ADF-test와 PP-test이다. 해당 시계열들이 로그변환 후 정상성을 띄는지 check하기 위해 ADF-test와 pp-test를 진행하였다.
  분석 결과 세 종류의 시계열 모두 정상성을 띄므로, 적절한 모형을 찾아 모델링할 수 있게 되었다. (비정상 시계열의 경우 정상화를 진행한 후, 분석을 진행하기 때문에 이러한 정상성 검정이 필수적이다.)

  
- 해당 란의 분석은 각 시계열에 대한 성분 분해를 진행한 것이다. 시계열의 4가지 변동성분으로는 추세성분, 계절성분, 순환성분, 불규칙 성분을 가지고 있다. 이를 분해함으로써 적절한 모형을 찾을 수 있다.
  
  1. TSLA- 분해 성분 분석
    -Trend(추세) : TSLA의 종가에는 긴 기간 우상향 추세가 뚜렷히 나타난다. 이 경우 ARIMA모델로 평균 process를 잘 포착 가능
    -Seasonal(계절성) : 주가 데이터이기 때문에, 원래 계절성을 분석하지 않고자 했고, 분석 결과도 계절성과 주기성이 관측되지 않아 SARIMA 모형보다는 ARIMA 모형이 더 적절함을 확인하였다.
    -Residual(잔차) : 잔차에 이분산성이 관측되어, GARCH모형을 사용하여 변동성을 풀어주는 것이 유리함을 확인하였다. 따라서, ARIMA-GARCH 모델을 사용하여 ARIMA-종가, 로그 수익률의 평균 흐름 예측, 설명 GARCH-금융 시계열에서의 ARIMA 잔차가 보인 이분산성을 모델링 이와 같이 분석하고자 한다.

  2. TQQQ-분해 성분 분석
    -Trend(추세):2020말~2022 초 급등 후 2022 중반 큰 하락 등 우상향 장기 추세 확인, 장기적 추세가 분명하여 추세를 잘 파악할 수 있는 ARIMA 모델 사용
    -Seasonal(계절성): 계절성으로 보기에는 진폭이 작고 명확한 주기가 아님->비계절 ARIMA 선택
    -Residual(잔차):잔차의 경우 Random하며, 이분산성이 보이므로 GARCH모형이 적절 따라서, TSLA와 같이 ARIMA-GARCH모형 선택

  3. PLTR-분해 성분 분석
    -Trend(추세):PLTR종가는 2022 초 최저점 달성, 이후 2024 중반부터 급등하는 우상향 추세->강한 장기 추세의 경우 ARIMA를 통해 분석하는 것이 효과적
    -Seasonal(계절성):마찬가지로 비계절 ARIMA 선택
    -Residual(잔차):잔차의 변동 폭이 시간에 따라 뚜렷히 변하는, 이분산성을 띈다. 이 또한 마찬가지로, ARIMA-GARCH 모델을 적용


- 다음 결과는 ARIMA+GARCH 모델링에 기반한 63일의 주가 예측을 진행한 것이다.
  - ARIMA(자기회귀이동평균)->주가 수익률, 로그 수익률 평균 예측하는 모델
  - GARCH(일반화된 자기회귀 조건부 이분산 모델)->수익률의 변동성(리스크)가 시간에 따라 바뀌므로, 주식 시장의 변동성 특성을 반영 따라서 이 모델링을 선택하였다.-> 향후 63일간의 예상 평균수익률과, 예측 신뢰구간을 계산할 수 있다.

- 해당 분석은 로그 변환 후 진행했기 때문에, 다시 지수화를 해줘야 실제 수익률을 확인할 수 있다. 코드를 실행하여 확인하면, 분석(예측) 결과는 위와 같다.

최종 분석 결과
- TSLA- 안정적 우상향 + 낮은 리스크 기대 수익률: 6.50%
  변동성: 17.12%
  전략 제안: 중장기 성장주 포트폴리오에 적합 / 보수적·균형형 투자자에게 적절 (리스크 대비 수익률 안정적) / 적립식 투자에 유리 (변동성 흡수)

- TQQQ – 고수익 고위험 레버리지 ETF 기대 수익률: 7.90%
  변동성: 21.90%
  전략 제안: 단기 트레이딩 or 적극적 투자자용 강한 상승장에서 수익 극대화 가능 하락장에서는 큰 손실 가능성 있으므로 손절 기준 필요 / 기술적 분석과 함께 단기 진입 추천
- PLTR – 성장 가능성 있는 중위험 종목 기대 수익률: 5.13%
  변동성: 19.12%
  전략 제안: 중위험·중수익 전략에 적합 / 밸류·성장 혼합 포트폴리오에 포함 추천 / 시장 흐름 관찰 후 분할 매수 유효 / 리스크 분산 목적으로도 사용 가능

 -위와 같이 분석할 수 있다. 분석을 진행한 결과, 인식하고 있던 것과 실제로 배운 내용 바탕으로 분석을 진행한 것이 차이가 있었다. 
   TQQQ가 리스크 있는 상품임은 알고 있었지만, TSLA와 PLTR의 경우 반대로 생각하고 있었다.하지만 4년간의 data를 바탕으로 분석한 결과 위와 같이 분석할 수 있었다. 

   
노트북 실행:
```python
!pip install yfinance statsmodels arch
